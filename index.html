<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="data:,">
  <meta charset="UTF-8" />
  <title>MOTHDEMIENNE.EXE — Night Broadcast</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <style>
    .badge95{ display:inline-block; padding:2px 6px; border:1px solid var(--95-dark,#808080); background:#efefef; color:#000; font-size:12px; }
    .feed95{ height:60vh; min-height:360px; max-height:70vh; overflow:auto;
      background:#fff; color:#000;
      border:2px solid #000; border-right-color:#fff; border-bottom-color:#fff; }
    .row95{ display:grid; grid-template-columns:160px 1fr auto; gap:8px; align-items:flex-start;
      border-bottom:1px solid #9e9e9e; padding:6px 8px; }
    .row95.dim { opacity:.55; }
    .post-text { white-space:pre-wrap; word-break:break-word; }
    .row95 .meta { font-size:12px; color:#333; }
    .row95 .delbtn { margin-left:8px; }
  </style>
</head>
<body class="win95-bg">
  <div class="window95" style="max-width:980px; margin:24px auto 80px;">
    <div class="titlebar95">
      <div class="icon"></div>
      <div class="title">MOTHDEMIENNE.EXE — Night Broadcast</div>
      <div class="controls95">
        <button class="btn95 tb95" id="minBtn" title="Minimize">_</button>
        <button class="btn95 tb95" id="closeBtn" title="Close" onclick="history.back()">×</button>
      </div>
    </div>

    <!-- Menu bar -->
    <div class="menubar95" style="gap:6px; padding:3px 4px;">
      <button id="menu-admin" class="btn95 menubtn95" title="Login as admin / open panel">Admin</button>
    </div>

    <div class="toolbar95" style="justify-content:space-between;">
      <div>Nick:&nbsp;
        <input id="nickname" class="input95" placeholder="Enter nickname" maxlength="20" style="width:140px;" />
      </div>
      <div style="display:flex; gap:8px; align-items:center;">
        <label for="ttl" style="color:#000;">Lifetime:</label>
        <select id="ttl" class="input95">
          <option value="10">10 minutes</option>
          <option value="20">20 minutes</option>
          <option value="30" selected>30 minutes</option>
        </select>
        <span class="badge95">Session: <span id="sessionLabel"></span></span>
        <span class="badge95">Until dawn: <span id="left"></span></span>
      </div>
    </div>

    <div class="panel95">
      <div id="feed" class="feed95"></div>
      <div class="status95" style="gap:8px; align-items:center; flex-wrap:wrap;">
        <input id="msg" class="input95" placeholder="Say something…" maxlength="600" style="flex:1; min-width:240px;" />
        <button class="btn95" id="send">Send</button>
      </div>
      <div class="status95" style="margin-top:6px; font-size:12px; color:#000;">
        ⚠️ Nicknames are not reserved and can be taken by anyone. Be careful who you trust.
      </div>
      <div class="status95" style="margin-top:6px; font-size:12px;">
        Messages older than 10 minutes fade, older than 30 disappear. The feed resets at 06:00 (Europe/Amsterdam).
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script type="module" src="firebase.js"></script>
  <script type="module" src="admin-menu.js"></script>
  <script type="module" src="filters.js"></script>
  <script type="module" src="broadcast.firebase.js"></script>
</body>
</html>
