<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="data:,">
  <meta charset="UTF-8" />
  <title>MOTHDEMIENNE.EXE — Night Broadcast</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <style>
    .badge95{ display:inline-block; padding:2px 6px; border:1px solid var(--95-dark,#808080); background:#efefef; color:#000; font-size:12px; }
    .feed95{ height:48vh; min-height:280px; max-height:56vh; overflow:auto;
      background:#fff; color:#000;
      border:2px solid #000; border-right-color:#fff; border-bottom-color:#fff; }
    .row95{ display:grid; grid-template-columns:160px 1fr auto; gap:8px; align-items:flex-start;
      border-bottom:1px solid #9e9e9e; padding:6px 8px; }
    .row95.dim { opacity:.55; }
    .post-text { white-space:pre-wrap; word-break:break-word; }
    .row95 .meta { font-size:12px; color:#333; }
    .row95 .delbtn { margin-left:8px; }
    .note95{ background:var(--95-light); border:1px solid var(--95-white); border-right-color:var(--95-dark); border-bottom-color:var(--95-dark); padding:6px; color:#000; }
    .rules95{ background:#fff; color:#000; padding:8px; border:2px solid var(--95-dark); border-right-color:var(--95-white); border-bottom-color:var(--95-white); }
    .rules95 ul{ list-style:none; padding:0; margin:0; }
    .rules95 li{ padding:4px 0; border-bottom:1px dashed #b7b7b7; }
    .rules95 li:last-child{ border-bottom:none; }
    .rules95 .tag{ display:inline-block; font-weight:bold; padding:0 6px; margin-right:6px; background:#000080; color:#fff; border:1px solid #ffffff; }
  </style>
</head>
<body class="win95-bg">
  <div class="window95" style="max-width:1280px; margin:16px auto 40px;">
    <div class="titlebar95">
      <div class="icon"></div>
      <div class="title">MOTHDEMIENNE.EXE — Night Broadcast</div>
      <div class="controls95">
        <button class="btn95 tb95" id="minBtn" title="Minimize">_</button>
        <button class="btn95 tb95" id="closeBtn" title="Close" onclick="history.back()">×</button>
      </div>
    </div>

    <div class="menubar95" style="gap:6px; padding:3px 4px;">
      <button id="menu-admin" class="btn95 menubtn95" title="Login as admin / open panel">Admin</button>
    </div>

    <div class="toolbar95" style="justify-content:space-between;">
      <div>Nick:&nbsp;
        <input id="nickname" class="input95" placeholder="Enter nickname" maxlength="20" style="width:160px;" />
      </div>
      <div style="display:flex; gap:8px; align-items:center;">
        <label for="ttl" style="color:#000;">Lifetime:</label>
        <select id="ttl" class="input95">
          <option value="10">10 minutes</option>
          <option value="20">20 minutes</option>
          <option value="30" selected>30 minutes</option>
        </select>
        <span class="badge95">Session: <span id="sessionLabel"></span></span>
        <span class="badge95">Until dawn: <span id="left"></span></span>
      </div>
    </div>

    <div class="panel95" style="display:grid; gap:8px;">
      <div class="group95 group95--primary">About</div>
      <div class="note95">
        Night broadcast. Messages fade after ~10 minutes and disappear by ~30. 
        The session resets daily at <b>06:00 (Europe/Amsterdam)</b>. Usernames are not reserved — anyone can type as you.
      </div>
      <div class="group95 group95--primary">Rules</div>
      <div class="rules95">
        <ul>
          <li><span class="tag">Profanity</span> Not allowed. Caught even with spaces/symbols and in Latin look-alikes.</li>
          <li><span class="tag">Spam</span> Don’t flood. Sending is rate‑limited.</li>
          <li><span class="tag">Calls</span> No violence/terror/discrimination.</li>
          <li><span class="tag">Drugs</span> Mentions/propaganda — blocked.</li>
          <li><span class="tag">Politics</span> No agitation or incitement.</li>
          <li><span class="tag">Links</span> Harmful and junk links are filtered.</li>
        </ul>
      </div>
    </div>

    <div class="panel95">
      <div id="feed" class="feed95"></div>
      <div class="status95" style="gap:8px; align-items:center; flex-wrap:wrap;">
        <input id="msg" class="input95" placeholder="Say something…" maxlength="600" style="flex:1; min-width:240px;" />
        <button class="btn95" id="send">Send</button>
      </div>
      <div class="status95" style="margin-top:6px; font-size:12px; color:#000;">
        ⚠️ Usernames aren’t reserved — anyone can type as you. Don’t trust strangers.
      </div>
      <div class="status95" style="margin-top:6px; font-size:12px;">
        If you feel lonely or heavy‑hearted — say it. Someone here is listening.
      </div>
    </div>
  </div>

  <script type="module" src="firebase.js"></script>
  <script type="module" src="admin-menu.js"></script>
  <script type="module" src="filters.js"></script>
  <script type="module" src="broadcast.firebase.js"></script>
</body>
</html>
