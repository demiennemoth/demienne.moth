<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Ensure proper scaling on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MOTHDEMIENNE.EXE / Моль Демьен — Night Broadcast</title>
  <link rel="preconnect" href="https://www.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="https://www.gstatic.com">
<!-- === SEO START === -->
  <link rel="canonical" href="https://demiennemoth.github.io/demienne.moth/"/>
  <meta name="title" content="MOTHDEMIENNE.EXE / Моль Демьен — Night Broadcast">
  <meta name="description" content="A retro-styled night broadcast. Messages fade in minutes and reset at dawn. Drop a line if you’re awake.">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#000080">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://demiennemoth.github.io/demienne.moth/">
  <meta property="og:title" content="MOTHDEMIENNE.EXE / Моль Демьен — Night Broadcast">
  <meta property="og:description" content="A retro-styled night broadcast. Messages fade in minutes and reset at dawn.">
  <meta property="og:image" content="https://demiennemoth.github.io/demienne.moth/favicon.svg">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="MOTHDEMIENNE.EXE / Моль Демьен — Night Broadcast">
  <meta name="twitter:description" content="A retro-styled night broadcast. Messages fade in minutes and reset at dawn.">
  <meta name="twitter:image" content="https://demiennemoth.github.io/demienne.moth/favicon.svg">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"MOTHDEMIENNE.EXE / Моль Демьен — Night Broadcast",
    "url":"https://demiennemoth.github.io/demienne.moth/",
    "inLanguage": "en",
    "publisher": { "@type": "Organization", "name": "Moth Demienne" }
  }
  </script>
  <!-- === SEO END === -->

  <link rel="stylesheet" href="style.css" />
  <style>
    :root{ --outer-margin:0; --window-max-width:1500px; }
    html,body{ height:100%; }
    body{ overflow:hidden; }
    .window95{ display:flex; flex-direction:column; max-width:var(--window-max-width); height:100vh; margin:var(--outer-margin) auto; }
    .badge95{ display:inline-block; padding:2px 6px; border:1px solid var(--95-dark,#808080); background:#efefef; color:#000; font-size:12px; }
    .row95{ display:grid; grid-template-columns:180px 1fr auto; gap:8px; align-items:flex-start; border-bottom:1px solid #9e9e9e; padding:6px 8px; }
    .row95.dim{ opacity:.55; }
    .post-text{ white-space:pre-wrap; word-break:break-word; }
    .row95 .meta{ font-size:12px; color:#333; }
    .row95 .delbtn{ margin-left:8px; }
    .note95{ background:var(--95-light); border:1px solid var(--95-white); border-right-color:var(--95-dark); border-bottom-color:var(--95-dark); padding:6px; color:#000; }
    .rules95{ background:#fff; color:#000; padding:8px; border:2px solid var(--95-dark); border-right-color:var(--95-white); border-bottom-color:var(--95-white); }
    .rules95 ul{ list-style:none; padding:0; margin:0; }
    .rules95 li{ padding:4px 0; border-bottom:1px dashed #b7b7b7; }
    .rules95 li:last-child{ border-bottom:none; }
    .rules95 .tag{ display:inline-block; font-weight:bold; padding:0 6px; margin-right:6px; background:#000080; color:#fff; border:1px solid #ffffff; }

    .panel95.feed-panel{ display:flex; flex-direction:column; min-height:0; flex:1 1 auto; }
    .feed95{ flex:1 1 auto; min-height:0; max-height:100%; overflow:auto; background:#fff; color:#000;
      border:2px solid #000; border-right-color:#fff; border-bottom-color:#fff; }

    .status95{ padding:3px 6px; line-height:1.2; }
    .status95 + .status95{ margin-top:2px; }

    .hp-field{ position:absolute !important; left:-10000px !important; top:auto !important; width:1px; height:1px; overflow:hidden; }

    /* subtle underline for footer link inside 95 UI */
    .status95 a{ color:#000; text-decoration: underline; }
    .status95 a:hover{ text-decoration: none; }

    /* Responsive adjustments for small screens */
    @media (max-width: 600px) {
      /* On narrow viewports we keep the window centered with a small margin */
      :root {
        --window-max-width: calc(100% - 16px);
        --outer-margin: 8px;
      }
      html, body {
        overflow-y: auto;
      }
      .window95 {
        height: auto;
        min-height: 100vh;
        margin: var(--outer-margin) auto;
      }
      /* Allow toolbars and menus to wrap onto multiple lines instead of forcing a single column */
      .menubar95,
      .toolbar95 {
        flex-wrap: wrap;
        justify-content: flex-start;
        align-items: center;
        gap: 6px;
      }
      /* Flex children grow to fill available width but wrap as needed */
      .toolbar95 > div {
        flex: 1 0 180px;
      }
      .toolbar95 select,
      .toolbar95 input {
        flex: 1 1 auto;
      }
      /* Keep two columns for posts on mobile to avoid overly long lines */
      .row95 {
        grid-template-columns: 100px 1fr;
        gap: 6px;
      }
      .feed95 {
        max-height: none;
        height: auto;
      }
      .titlebar95 .title {
        font-size: 14px;
      }
      .badge95 {
        font-size: 10px;
      }

      /* Limit nickname input so it doesn't stretch across the screen */
      #nickname {
        max-width: 180px;
        width: 100%;
      }

      /* Allow the session and countdown row to wrap on small screens so badges don't overflow */
      .toolbar95 > div:last-child {
        flex-wrap: wrap;
        gap: 4px;
      }
    }
  </style>
</head>
<body class="win95-bg">
  <div class="window95">
    <div class="titlebar95">
      <div class="icon"></div>
      <div class="title">MOTHDEMIENNE.EXE / Моль Демьен — Night Broadcast</div>
      <div class="controls95">
        <button class="btn95 tb95" id="minBtn" title="Minimize">_</button>
        <button class="btn95 tb95" id="closeBtn" title="Close" onclick="history.back()">×</button>
      </div>
    </div>

    <div class="menubar95" style="gap:6px; padding:3px 4px;">
      <button id="menu-admin" class="btn95 menubtn95" title="Login as admin / open panel">Admin</button>
    </div>

    <div class="toolbar95" style="justify-content:space-between;">
      <div>Nick:&nbsp;
        <input id="nickname" class="input95" placeholder="Enter nickname" maxlength="20" style="width:180px;" />
      </div>
      <div style="display:flex; gap:8px; align-items:center;">
        <label for="ttl" style="color:#000;">Lifetime:</label>
        <select id="ttl" class="input95">
          <option value="10">10 minutes</option>
          <option value="20">20 minutes</option>
          <option value="30" selected>30 minutes</option>
        </select>
        <span class="badge95">Session: <span id="sessionLabel"></span></span>
        <span class="badge95">Until dawn: <span id="left"></span></span>
      </div>
    </div>

    <div class="panel95" style="display:grid; gap:8px;">
      <div class="group95 group95--primary">About</div>
      <div class="note95">
        Night broadcast. Messages fade after ~10 minutes and disappear by ~30. 
        The session resets daily at <b>06:00 (Europe/Amsterdam)</b>. Usernames are not reserved — anyone can type as you.
      </div>
      <div class="group95 group95--primary">Rules</div>
      <div class="rules95">
        <ul>
          <li><span class="tag">Profanity</span> Not allowed. Caught even with spaces/symbols and in Latin look‑alikes.</li>
          <li><span class="tag">Spam</span> Don’t flood. Sending is rate‑limited.</li>
          <li><span class="tag">Calls</span> No violence/terror/discrimination.</li>
          <li><span class="tag">Drugs</span> Mentions/propaganda — blocked.</li>
          <li><span class="tag">Politics</span> No agitation or incitement.</li>
          <li><span class="tag">Links</span> Harmful and junk links are filtered.</li>
        </ul>
      </div>
    </div>

    <div class="panel95 feed-panel">
      <div id="feed" class="feed95"></div>
      <div class="status95" style="display:flex; gap:8px; align-items:center; flex-wrap:wrap;">
        <input id="msg" class="input95" placeholder="Say something…" maxlength="600" style="flex:1; min-width:240px;" />
        <button class="btn95" id="send">Send</button>
        <!-- Honeypot field for bots -->
        <input id="website" name="website" class="hp-field" type="text" autocomplete="off" tabindex="-1" aria-hidden="true" />
      </div>
      <div class="status95" style="font-size:12px; color:#000;">
        ⚠️ Usernames aren’t reserved — anyone can type as you. Don’t trust strangers.
      </div>
      <div class="status95" style="font-size:12px;">
        If you feel lonely or heavy‑hearted — say it. Someone here is listening.
      </div>
      <!-- Contact / report footer -->
      <div class="status95" style="font-size:12px;">
        Feedback, reports or suggestions — email: 
        <a href="mailto:demienne.moth@gmail.com?subject=Night%20Broadcast%20feedback">demienne.moth@gmail.com</a>
      </div>
    </div>
  </div>

  <script>
  document.addEventListener("DOMContentLoaded", ()=>{
    document.body.setAttribute("data-page-born", String(Date.now()));
  });
</script>
  <script type="module" src="admin-menu.js"></script>
  <script type="module" src="filters.js"></script>
  <script type="module" src="broadcast.firebase.js"></script>
</body>
</html>
